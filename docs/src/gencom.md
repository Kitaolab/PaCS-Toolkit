# gencom
- This command is employed after executing PaCS-MD.
- The COMs of a selected atom group from a trajectory (generated by "gencom traj") or multiple trajectories in one trial of PaCS-MD (generated by "gencom trial") can be computed and outputted in pdb format.
- The COMs are stored as a VIRTUAL SITE in the pdb file.
- This command visualizes the migration paths of atoms and supports intuitive interpretation.

## gencom traj
- This command is used after executing PaCS-MD.
- The COMs of a selected atom group from a trajectory file can be calculated and outputted in pdb format.
- This command visualizes the migration paths of atoms and supports intuitive interpretation.

### Example
- The following example generates a pathway file `pathway.pdb` that contains the COMs of ligand from the `prd.xtc` file.

```shell
pacs gencom traj mdtraj -trj ./trial001/cycle001/replica001/prd.xtc -top ./inputs/input.gro -s "resname ligand"
```

### Arguments

```plaintext
usage: pacs gencom traj mdtraj [-h] [-trj] [-top] [-s] [-r] [-o]
```
- `-trj, --trajectory` (str): 
    - trajectory file path (e.g. `-trj best_complete_fit.xtc`)
- `-top, --top_mdtraj` (str): 
    - topology file path for mdtraj (e.g. `-s ./trial001/cycle000/replica001/rmmol_top.pdb`)
- `-s, --selection` (str): 
    - atom selection for visualization (e.g. `-s "resname ligand"`)
- `-r, --resid` (int): 
    - Index of the visualized center of mass on the output pdb (e.g. `-r 1`)
    - default: `1`
- `-o, --output` (str): 
    - output file path (e.g. `-o pathway.pdb`)
    - default: `pathway.pdb`


## gencom trial
- This command is used after executing PaCS-MD.
- The COMs of a selected atom group from all of the trajectories within one trial of PaCS-MD can be calculated and outputted in pdb format.
- This command visualizes the migration paths of atoms and supports intuitive interpretation.

### Example
- The following example generates a pathway file `pathway.pdb` that saves the COMs of ligand from `prd_fit.xtc` file in the trial 1.

```shell
pacsmd gencom trial mdtraj -t 1 -trj prd_fit.xtc -top ./inputs/input.gro -s "resname ligand"
```

### Arguments

```plaintext
usage: pacs gencom trial mdtraj [-h] [-t] [-trj] [-top] [-s] [-r] [-o] [-sf]
```
- `-t, --trial` (int): 
    - trial number without 0-fill when pacsmd was conducted (e.g. `-t 1`)
- `-trj, --trajectory` (str): 
    - trajectory file name (e.g. `-trj prd_rmmol_fit.xtc`)
- `-top, --top_mdtraj` (str): 
    - topology file path for mdtraj (e.g. `-s ./trial001/cycle000/replica001/rmmol_top.pdb`)
- `-s, --selection` (str): 
    - atom selection for ligand (e.g. `-s "resname ligand"`)
- `-r, --resid` (int): 
    - Index of the visualized center of mass on the output pdb (e.g. `-r 1`)
    - default: `1`
- `-o, --output` (str): 
    - output file path (e.g. `-o pathway.pdb`)
    - default: `pathway.pdb`
- `-sf, --stride_frame` (int): 
    - stride to skip when extracting the com for visualization  (e.g. `-sf 10`)
    - default: `10`
